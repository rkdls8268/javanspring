# Spring with Java

## DDD & layered architecture
* Presentation
* Application
* Domain
* Infra

1. 위의 계층에서 아래 계층에는 접근이 가능하지만 아래에서 위로는 불가능한 것을 기본으로 한다.
2. 한 계층의 관심사와 관련된 어떤 것도 다른 계층에 배치되어서는 안된다.


## Presentation Layer - Controller
* Client로부터 request를 받고 response를 리턴하는 API 정의
## Application Layer - Service
* 비즈니스 로직을 정의하고 정상적으로 수행될 수 있도록 도메인 계층과 infra 계층을 연결해주는 역할
* 이 계층은 많은 정보를 가지고 있지 않게 유지하는 것이 중요
* 실질적인 데이터의 상태 변화 등의 처리는 도메인 계층에서 진행할 수 있도록 위임하는 것이 중요
### Application Layer 에 포함하는 기능들
1. 트랜잭션의 단위
2. DTO 변환
3. 엔티티 조회/저장
4. 사용자 인증/인가
5. 파라미터 검증
## Domain Layer - Model
* Entity를 활용하여 도메인 로직이 실행되며, 업무 상황을 반영하여 상태를 제어하는 역할에 집중하는 계층
## Infrastructure Layer - Repository
* 외부와의 통신(DB, 메시징 시스템 등)을 담당하는 계층이다.
* 해당 계층에서 얻어온 정보를 응용 계층 또는 도메인 계층에 전달하는 것이 주 역할이다.

## 장점
* 각 레이어를 loosely coupled, 자신의 관심사에만 집중할 수 있음
* 핵심 비즈니스 로직을 순수하게 유지함으로써 유지보수와 확장성 측면에서 이득을 얻을 수 있다.
* 각 레이어에 서로 다른 추상화 수준을 가진 상태와 행동을 위치시킴으로써 코드 재사용성을 높일 수 있다.
## 단점
* 서비스가 커질수록 복잡도가 증가하여 확장성이 떨어진다.
* 레이어로 분리된 관심사 외에 다른 관심사가 생길 경우 패키지 분리 및 코드 배치가 어렵다.